{
  "metric_keys": [
    "pg_stat_database_tup_fetched_total"
  ],
  "dashboard": {
    "title": "PostgreSQL",
    "description": "This dashboard gives an overview of the overall status of PostgreSQL database.\nCheck how many rows were fetched, returned, inserted, updated and deleted. Graphs for transaction commits, transaction rollbacks and temporary files written are also included.",
    "visuals": [
      {
        "title": "Fetched rows",
        "description": "Number of rows that were fetched by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_tup_fetched_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Returned rows",
        "description": "Number of rows that were returned by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_tup_returned_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Inserted rows",
        "description": "Number of rows that were inserted by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_tup_inserted_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Updated rows",
        "description": "Number of rows that were updated by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_tup_updated_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Deleted rows",
        "description": "Number of rows that were deleted by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_tup_deleted_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Transactions committed",
        "description": "Number of transactions that have been committed.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_xact_commit_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Transactions rolled back",
        "description": "Number of transactions that were rolled back.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_xact_rollback_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Deadlocks detected",
        "description": "Number of deadlocks that were detected.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_deadlocks_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Database backends",
        "description": "Number of backends currently connected to the databases.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_numbackends",
            "fields": [
              {
                "field": "GAUGE"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "Data written to temporary files",
        "description": "Total amount of data that was written to temporary files by queries.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_temp_bytes_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      },
      {
        "title": "pg_stat_database_temp_files_total",
        "description": "Number of temporary files that were written by queries in databases.",
        "line_label": "%host%: %db%",
        "display": "LINE",
        "format": "number",
        "draw_null_as_zero": true,
        "metrics": [
          {
            "name": "pg_stat_database_temp_files_total",
            "fields": [
              {
                "field": "COUNTER"
              }
            ],
            "tags": [
              {
                "key": "db",
                "value": "*"
              },
              {
                "key": "endpoint",
                "value": "*"
              },
              {
                "key": "host",
                "value": "*"
              }
            ]
          }
        ],
        "type": "timeseries"
      }
    ]
  }
}
